# Скрипт для парсинга онлайн-библиотеки
Скрипт для скачивания книг и обложек с сайта [tululu.org](http://tululu.org/b9/), а также получения данных о книге (название, автор, жанр, комментарии пользователей и ссылка на обложку) 
## Установка
Вам понадобится установленный Python 3.6-3.9 и git.

Склонируйте репозиторий или скачайте архив с кодом на компьютер:
```bash
$ git clone git@github.com:IlyaG96/parser_online_library.git
```
Создайте в этой папке виртуальное окружение:
```bash
$ python3 -m venv [полный путь до папки parser_online_library без квадратных скобочек] env
```
Активируйте виртуальное окружение и установите зависимости:
```bash
$ cd parser_online_library
$ source env/bin/activate
$ pip install -r requirements.txt
```
## Использование
- Заполните прилагающийся .env.example файл и переименуйте его в .env или иным образом задайте переменные среды.

```bash
book_path="full/path/to/the/folder/with/books"
covers_path="full/path/to/the/folder/with/covers"
```

`book_path` - полный путь до папки, в которую планируется скачивать книги (по умолчанию `./books`)  
`covers_path` - полный путь до папки, в которую планируется скачивать обложки (по умолчанию `./covers`)  


Простейший способ запустить скрипт и скачать 8 книг и 6 обложек (не у всех книг есть обложки) -
```bash
$ python main.py
```

Также скрипт может принимать до 3 аргументов `start_id` и `stop_id`, которые будут обозначать, соответственно, с какого id книги начать и каким закончить.  
`-v show` включает или отключает отображение информации о книге (по умолчанию отключено).
```bash
$ python main.py -v show 10 22 1
```
Скрипт попробует загрузить книги под номерами с 10 по 22, если они представлены на сайте. И выведет в консоль информацию о каждой загруженной книге следующего вида:
```python
{'Будущее капитализма': {'author': 'Туроу Лестер',
                         'comments': ['Книга познавательная и очень интересная!'],
                         'cover_link': 'http://tululu.org/shots/15.jpg',
                         'genre': ['Политика', 'Публицистика', 'Экономика']}}
```